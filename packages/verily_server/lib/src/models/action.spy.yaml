# Defines a verifiable action created by a Creator.
class: Action
table: action
fields:
  # Name of the action (e.g., "Office Check-in", "Morning Workout").
  name: String
  # Detailed description of the action.
  description: String?
  # Link to the creator who owns this action.
  # One creator can have many actions.
  creatorId: int, relation(parent=creator) # Use parent relation for ownership
  # Timestamp when the action was created.
  createdAt: DateTime
  # Timestamp when the action was last updated.
  updatedAt: DateTime
  # Flag to indicate if the action is active or deleted (soft delete).
  isDeleted: bool, default=false
  # List of steps associated with this action.
  # Serverpod infers this relation from ActionStep's parent=action field.
  steps: List<ActionStep>?, relation
  # List of webhooks associated with this action.
  # Serverpod infers this relation from Webhook's parent=action field.
  webhooks: List<Webhook>?, relation

# Define indexes using a map structure.
indexes:
  action_creator_idx:
    fields: creatorId
  action_created_at_idx:
    fields: createdAt