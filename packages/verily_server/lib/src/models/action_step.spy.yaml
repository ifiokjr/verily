# Represents a single step within a verifiable action.
class: ActionStep
table: action_step

fields:
  # The action this step belongs to. This is the parent relation.
  action: Action?, relation(parent=action)
  # The type of verification required for this step (e.g., 'location', 'face', 'motion').
  # Consider using an Enum for this for type safety.
  stepType: String # TODO: Convert to Enum (e.g., VerificationType)
  # JSON encoded string containing specific parameters for this step type
  # (e.g., required accuracy for location, specific pose for pose detection).
  parameters: String # Consider using a Map<String, String> or a dedicated class/protocol if structure is complex
  # The order of this step within the action sequence.
  order: int
  # Timestamp when the step was created.
  createdAt: DateTime

indexes:
  action_step_actionId_idx:
    fields: actionId # Serverpod automatically creates actionId based on the 'action' relation field
    unique: false